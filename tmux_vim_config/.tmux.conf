#1. ç°åœ¨Shellæ‰§è¡Œ echo $TERM
#2. çœ‹çœ‹å¾—åˆ°äº†ä»€ä¹ˆï¼Œæ¯”å¦‚ â€œxtermâ€ æˆ–è€… â€œXterm-256colorâ€

#if it's UbuntuOS:
set -g default-terminal "xterm-256color"

#Or if it's MacOS:
#set -g default-terminal "screen-256color" ğŸ‘†

set -g prefix C-q
unbind C-b
bind C-q send-prefix

bind C-b select-pane -L
bind C-n select-pane -D
bind C-p select-pane -U
bind C-f select-pane -R

#=======å¼€å¯é¼ æ ‡æ“ä½œ=========
set-option -g mouse on

#=============
# çŠ¶æ€æ 
# é¢œè‰²
#set -g status-bg black
#set -g status-fg white

#è®¾ç½®çŠ¶æ€æ é¢œè‰²ï¼Œbgé»˜è®¤æ˜¯é€æ˜ï¼ŒfgæŒ‡ä»£å­—ä½“é¢œè‰²ä¸ºç™½è‰²

set -g status-style bg=default,fg=white #colour234
#set-option -g status-left-style bg=default,fg=white
#set-option -g status-right-style bg=default,fg=white

#å‰ç¼€é”®ååº”æ–¹å¼
set -g status-left '#{?client_prefix,#[bg=yellow],}P#[default] [#{session_name}] '

# å¯¹é½æ–¹å¼
set-option -g status-justify right #centre
 
# å·¦ä¸‹è§’
set-option -g status-left '#[bg=default,fg=red]<#[fg=cyan] #S#[fg=red] >'
set-option -g status-left-length 50
 
# çª—å£åˆ—è¡¨
setw -g automatic-rename on
set-window-option -g window-status-format '#[dim]#I:#[default]#W#[fg=grey,dim]'
set-window-option -g window-status-current-format '#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]'
 
# å³ä¸‹è§’
set -g status-right '#[fg=green][#[fg=cyan]%Y-%m-%d#[fg=green]]'

#æ‰“å¼€æ–°çª—å£æˆ–ä¼šè¯æ—¶ï¼Œä»ç•™åœ¨å½“å‰ç›®å½•
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"


#======PLUGIN=======

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-logging'
set -g history-limit 10000000


run -b '~/.tmux/plugins/tpm/tpm'


#-------------------------------------------------
# çŠ¶æ€æ (Status Bar)
#-------------------------------------------------
# æ˜¾ç¤ºprefixé”®æœ‰æ²¡æœ‰è¢«æŒ‰ä¸‹
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'


# æ˜¾ç¤ºcpuä¿¡æ¯ https://github.com/tmux-plugins/tmux-cpu
set -g @plugin 'tmux-plugins/tmux-cpu'
# å¯¹tmux cpuå†™äº†ä¸€ä¸ªé…ç½®ï¼Œè§‰å¾—æ²¡æœ‰å¿…è¦é‚£ä¹ˆèŠ±å“¨ï¼Œå°±çœå»äº†
set -g @cpu_low_icon "=" # icon when cpu is low
set -g @cpu_medium_icon "â‰¡" # icon when cpu is medium
set -g @cpu_high_icon "â‰£" # icon when cpu is high
set -g @cpu_low_fg_color "[bg=red]" # foreground color when cpu is low
set -g @cpu_medium_fg_color "[bg=yello]" # foreground color when cpu is medium
set -g @cpu_high_fg_color "[bg=green]" # foreground color when cpu is high
set -g @cpu_low_bg_color "#[bg=green]" # background color when cpu is low
set -g @cpu_medium_bg_color "#[bg=yellow]" # background color when cpu is medium
set -g @cpu_high_bg_color "#[bg=red]" # background color when cpu is high
set -g @cpu_percentage_format "%3.1f%%" # printf format to use to display percentage
set -g @cpu_medium_thresh "30" # medium percentage threshold
set -g @cpu_high_thresh "80" # high percentage threshold
set -g @cpu_temp_format "%2.0f" # printf format to use to display temperature
set -g @cpu_temp_unit "C" # supports C & F
set -g @cpu_temp_medium_thresh "80" # medium temperature threshold
set -g @cpu_temp_high_thresh "90" # high temperature threshold


#set -g @cpu_temp_(low_icon,high_bg_color,etc...) # same defaults as above
#set -g @ram_(low_icon,high_bg_color,etc...) # same defaults as above
#set -g @ram_low_icon "=" # icon when cpu is low
#set -g @ram_medium_icon "â‰¡" # icon when cpu is medium
#set -g @ram_high_icon "â‰£" # icon when cpu is high
#set -g @ram_low_fg_color "[bg=red]" # foreground color when cpu is low
#set -g @ram_medium_fg_color "[bg=yello]" # foreground color when cpu is medium
#set -g @ram_high_fg_color "[bg=green]" # foreground color when cpu is high
#set -g @ram_low_bg_color "#[bg=green]" # background color when cpu is low
#set -g @ram_medium_bg_color "#[bg=yellow]" # background color when cpu is medium
#set -g @ram_high_bg_color "#[bg=red]" # background color when cpu is high
#set -g @ram_percentage_format "%3.1f%%" # printf format to use to display percentage
#set -g @ram_medium_thresh "30" # medium percentage threshold
#set -g @ram_high_thresh "80" # high percentage threshold


set-option -g status-right-length 200
#set-option -g status-left-length 200



set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'


# è·å–å„ç§ç³»ç»Ÿä¿¡æ¯çš„æ’ä»¶ã€CPUå’ŒMEMæœ‰BUGã€‘
set -g @plugin 'samoshkin/tmux-plugin-sysstat'
# tmux-plugin-sysstatä¾‹å­
#set -g status-right "#{sysstat_cpu} | #{sysstat_mem} | #{sysstat_swap} | #{sysstat_loadavg} | #[fg=cyan]#(echo $USER)#[default]@#H"
#set -g status-right "CPU:#{cpu_percentage} | #{sysstat_mem} | #{sysstat_swap} | #{sysstat_loadavg} | #[fg=cyan]#(echo $USER)#[default]@#H"

# çŠ¶æ€æ è®¾å®š
# æ··åˆtmux-cpuå’Œtmux-plugin-sysstat
#set -g status-right "#{prefix_highlight}#{online_status}|\
CPU:#{cpu_percentage}|GPU:#{gpu_percentage}|\
#{sysstat_loadavg}|\
%H:%M Jinn "

# æ˜¾ç¤ºå½“å‰ä¸»æœºæ˜¯å¦è”ç½‘ï¼ˆä»¥è¿é€šç™¾åº¦ä¸ºæ ‡å‡†ï¼‰
set -g @plugin 'tmux-plugins/tmux-online-status'
# å¦‚æœå›¾æ ‡ä¸æ˜¾ç¤ºåˆ™ç”¨ä¸‹é¢ä¸¤ä¸ªä»£æ›¿
set -g @online_icon "âœ…"
set -g @offline_icon "âœ˜"
set -g status-right "#{online_status}"
set -g @plugin 'tmux-plugins/tmux-battery'

#ä¸»è¦é…ç½®åœ¨è¿™é‡Œï¼š
set -g status-right "\s#{prefix_highlight}#{prefix_highlight_show_copy_mode}î‚²\s
#{sysstat_mem} | #{sysstat_cpu} | BAT: #{battery_percentage}% | Online: #{online_status} \sî‚° %h-%d | %a | %H:%M vz_Jinn "
